{"ast":null,"code":"import _toConsumableArray from \"/Applications/MAMP/htdocs/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Applications/MAMP/htdocs/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport specificationTableMock from \"./specificationTableMock\";\nimport MockUtils from \"./mock.utils\";\nexport default function mockSpecifications(mock) {\n  mock.onPost(\"api/specifications\").reply(function (_ref) {\n    var data = _ref.data;\n\n    var _JSON$parse = JSON.parse(data),\n        specification = _JSON$parse.specification;\n\n    var carId = specification.carId,\n        _specification$value = specification.value,\n        value = _specification$value === void 0 ? \"\" : _specification$value,\n        specId = specification.specId;\n    var id = generateSpecificationId();\n    var newSpecification = {\n      id: id,\n      carId: +carId,\n      value: value,\n      specId: +specId\n    };\n    specificationTableMock.push(newSpecification);\n    return [200, {\n      specification: newSpecification\n    }];\n  });\n  mock.onPost(/api\\/specificationsfind\\/\\d+/).reply(function (config) {\n    var urls = config.url.split(\"/\");\n    var id = urls[2];\n    var mockUtils = new MockUtils();\n\n    var _JSON$parse2 = JSON.parse(config.data),\n        queryParams = _JSON$parse2.queryParams;\n\n    var specifications = specificationTableMock.filter(function (el) {\n      return el.carId === +id;\n    });\n    var result = [];\n    specifications.forEach(function (el) {\n      return result.push(wrapSpecification(el));\n    });\n    var filterdSpecifications = mockUtils.baseFilter(result, queryParams);\n    return [200, filterdSpecifications];\n  });\n  mock.onPost(\"api/specifications/deleteSpecifications\").reply(function (config) {\n    var _JSON$parse3 = JSON.parse(config.data),\n        ids = _JSON$parse3.ids;\n\n    ids.forEach(function (id) {\n      var index = specificationTableMock.findIndex(function (el) {\n        return el.id === id;\n      });\n\n      if (index > -1) {\n        specificationTableMock.splice(index, 1);\n      }\n    });\n    return [200];\n  });\n  mock.onGet(/api\\/specifications\\/\\d+/).reply(function (config) {\n    var id = config.url.match(/api\\/specifications\\/(\\d+)/)[1];\n    var spec = specificationTableMock.find(function (el) {\n      return el.id === +id;\n    });\n\n    if (!spec) {\n      return [400];\n    }\n\n    var specification = wrapSpecification(spec);\n    return [200, specification];\n  });\n  mock.onPut(/api\\/specifications\\/\\d+/).reply(function (config) {\n    var id = config.url.match(/api\\/specifications\\/(\\d+)/)[1];\n\n    var _JSON$parse4 = JSON.parse(config.data),\n        specification = _JSON$parse4.specification;\n\n    var index = specificationTableMock.findIndex(function (el) {\n      return el.id === +id;\n    });\n\n    if (!index) {\n      return [400];\n    }\n\n    specificationTableMock[index] = _objectSpread({}, specification);\n    return [200];\n  });\n  mock.onDelete(/api\\/specifications\\/\\d+/).reply(function (config) {\n    var id = config.url.match(/api\\/specifications\\/(\\d+)/)[1];\n    var index = specificationTableMock.findIndex(function (el) {\n      return el.id === +id;\n    });\n    specificationTableMock.splice(index, 1);\n\n    if (!index === -1) {\n      return [400];\n    }\n\n    return [200];\n  });\n}\n\nfunction generateSpecificationId() {\n  var ids = specificationTableMock.map(function (el) {\n    return el.id;\n  });\n  var maxId = Math.max.apply(Math, _toConsumableArray(ids));\n  return maxId + 1;\n}\n\nfunction wrapSpecification(specification) {\n  var newSpec = _objectSpread({}, specification);\n\n  newSpec.name = getSpecNameById(newSpec.specId);\n  return newSpec;\n}\n\nfunction getSpecNameById(specId) {\n  var specs = [\"Seats\", \"Fuel Type\", \"Stock\", \"Door count\", \"Engine\", \"Transmission\", \"Drivetrain\", \"Combined MPG\", \"Warranty\", \"Wheels\"];\n  return specs[specId];\n}","map":{"version":3,"sources":["/Applications/MAMP/htdocs/project/client/src/app/modules/ECommerce/__mocks__/mockSpecification.js"],"names":["specificationTableMock","MockUtils","mockSpecifications","mock","onPost","reply","data","JSON","parse","specification","carId","value","specId","id","generateSpecificationId","newSpecification","push","config","urls","url","split","mockUtils","queryParams","specifications","filter","el","result","forEach","wrapSpecification","filterdSpecifications","baseFilter","ids","index","findIndex","splice","onGet","match","spec","find","onPut","onDelete","map","maxId","Math","max","newSpec","name","getSpecNameById","specs"],"mappings":"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","sourcesContent":["import specificationTableMock from \"./specificationTableMock\";\r\nimport MockUtils from \"./mock.utils\";\r\n\r\nexport default function mockSpecifications(mock) {\r\n  mock.onPost(\"api/specifications\").reply(({ data }) => {\r\n    const { specification } = JSON.parse(data);\r\n    const { carId, value = \"\", specId } = specification;\r\n    const id = generateSpecificationId();\r\n    const newSpecification = {\r\n      id,\r\n      carId: +carId,\r\n      value,\r\n      specId: +specId\r\n    };\r\n    specificationTableMock.push(newSpecification);\r\n    return [200, { specification: newSpecification }];\r\n  });\r\n\r\n  mock.onPost(/api\\/specificationsfind\\/\\d+/).reply(config => {\r\n    const urls = config.url.split(\"/\");\r\n    const id = urls[2];\r\n    const mockUtils = new MockUtils();\r\n    const { queryParams } = JSON.parse(config.data);\r\n    const specifications = specificationTableMock.filter(\r\n      el => el.carId === +id\r\n    );\r\n    const result = [];\r\n    specifications.forEach(el => result.push(wrapSpecification(el)));\r\n    const filterdSpecifications = mockUtils.baseFilter(result, queryParams);\r\n\r\n    return [200, filterdSpecifications];\r\n  });\r\n\r\n  mock.onPost(\"api/specifications/deleteSpecifications\").reply(config => {\r\n    const { ids } = JSON.parse(config.data);\r\n    ids.forEach(id => {\r\n      const index = specificationTableMock.findIndex(el => el.id === id);\r\n      if (index > -1) {\r\n        specificationTableMock.splice(index, 1);\r\n      }\r\n    });\r\n    return [200];\r\n  });\r\n\r\n  mock.onGet(/api\\/specifications\\/\\d+/).reply(config => {\r\n    const id = config.url.match(/api\\/specifications\\/(\\d+)/)[1];\r\n    const spec = specificationTableMock.find(el => el.id === +id);\r\n    if (!spec) {\r\n      return [400];\r\n    }\r\n\r\n    const specification = wrapSpecification(spec);\r\n\r\n    return [200, specification];\r\n  });\r\n\r\n  mock.onPut(/api\\/specifications\\/\\d+/).reply(config => {\r\n    const id = config.url.match(/api\\/specifications\\/(\\d+)/)[1];\r\n    const { specification } = JSON.parse(config.data);\r\n    const index = specificationTableMock.findIndex(el => el.id === +id);\r\n    if (!index) {\r\n      return [400];\r\n    }\r\n\r\n    specificationTableMock[index] = { ...specification };\r\n    return [200];\r\n  });\r\n\r\n  mock.onDelete(/api\\/specifications\\/\\d+/).reply(config => {\r\n    const id = config.url.match(/api\\/specifications\\/(\\d+)/)[1];\r\n    const index = specificationTableMock.findIndex(el => el.id === +id);\r\n    specificationTableMock.splice(index, 1);\r\n    if (!index === -1) {\r\n      return [400];\r\n    }\r\n\r\n    return [200];\r\n  });\r\n}\r\n\r\nfunction generateSpecificationId() {\r\n  const ids = specificationTableMock.map(el => el.id);\r\n  const maxId = Math.max(...ids);\r\n  return maxId + 1;\r\n}\r\n\r\nfunction wrapSpecification(specification) {\r\n  const newSpec = { ...specification };\r\n  newSpec.name = getSpecNameById(newSpec.specId);\r\n  return newSpec;\r\n}\r\n\r\nfunction getSpecNameById(specId) {\r\n  const specs = [\r\n    \"Seats\",\r\n    \"Fuel Type\",\r\n    \"Stock\",\r\n    \"Door count\",\r\n    \"Engine\",\r\n    \"Transmission\",\r\n    \"Drivetrain\",\r\n    \"Combined MPG\",\r\n    \"Warranty\",\r\n    \"Wheels\"\r\n  ];\r\n  return specs[specId];\r\n}\r\n"]},"metadata":{},"sourceType":"module"}