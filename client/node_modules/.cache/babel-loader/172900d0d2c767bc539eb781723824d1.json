{"ast":null,"code":"/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./util\"; // Component Definition\n\nvar KTMenu = function KTMenu(elementId, options) {\n  // Main object\n  var the = this;\n  var init = false; // Get element object\n\n  var element = KTUtil.getById(elementId);\n  var body = KTUtil.getBody();\n\n  if (!element) {\n    return;\n  } // Default options\n\n\n  var defaultOptions = {\n    // scrollable area with Perfect Scroll\n    scroll: {\n      rememberPosition: false\n    },\n    // accordion submenu mode\n    accordion: {\n      slideSpeed: 200,\n      // accordion toggle slide speed in milliseconds\n      autoScroll: false,\n      // enable auto scrolling(focus) to the clicked menu item\n      autoScrollSpeed: 1200,\n      expandAll: true // allow having multiple expanded accordions in the menu\n\n    },\n    // dropdown submenu mode\n    dropdown: {\n      timeout: 500 // timeout in milliseconds to show and hide the hoverable submenu dropdown\n\n    }\n  }; ////////////////////////////\n  // ** Private Methods  ** //\n  ////////////////////////////\n\n  var Plugin = {\n    /**\r\n     * Run plugin\r\n     * @returns {KTMenu}\r\n     */\n    construct: function construct(options) {\n      if (KTUtil.data(element).has('menu')) {\n        the = KTUtil.data(element).get('menu');\n      } else {\n        // reset menu\n        Plugin.init(options); // reset menu\n\n        Plugin.reset(); // build menu\n\n        Plugin.build();\n        KTUtil.data(element).set('menu', the);\n      }\n\n      return the;\n    },\n\n    /**\r\n     * Handles submenu click toggle\r\n     * @returns {KTMenu}\r\n     */\n    init: function init(options) {\n      the.events = [];\n      the.eventHandlers = {}; // merge default and user defined options\n\n      the.options = KTUtil.deepExtend({}, defaultOptions, options); // pause menu\n\n      the.pauseDropdownHoverTime = 0;\n      the.uid = KTUtil.getUniqueID();\n    },\n    update: function update(options) {\n      // merge default and user defined options\n      the.options = KTUtil.deepExtend({}, defaultOptions, options); // pause menu\n\n      the.pauseDropdownHoverTime = 0; // reset menu\n\n      Plugin.reset();\n      the.eventHandlers = {}; // build menu\n\n      Plugin.build();\n      KTUtil.data(element).set('menu', the);\n    },\n    reload: function reload() {\n      // reset menu\n      Plugin.reset(); // build menu\n\n      Plugin.build(); // reset submenu props\n\n      Plugin.resetSubmenuProps();\n    },\n\n    /**\r\n     * Reset menu\r\n     * @returns {KTMenu}\r\n     */\n    build: function build() {\n      // General accordion submenu toggle\n      the.eventHandlers['event_1'] = KTUtil.on(element, '.menu-toggle', 'click', Plugin.handleSubmenuAccordion); // Dropdown mode(hoverable)\n\n      if (Plugin.getSubmenuMode() === 'dropdown' || Plugin.isConditionalSubmenuDropdown()) {\n        // dropdown submenu - hover toggle\n        the.eventHandlers['event_2'] = KTUtil.on(element, '[data-menu-toggle=\"hover\"]', 'mouseover', Plugin.handleSubmenuDrodownHoverEnter);\n        the.eventHandlers['event_3'] = KTUtil.on(element, '[data-menu-toggle=\"hover\"]', 'mouseout', Plugin.handleSubmenuDrodownHoverExit); // dropdown submenu - click toggle\n\n        the.eventHandlers['event_4'] = KTUtil.on(element, '[data-menu-toggle=\"click\"] > .menu-toggle, [data-menu-toggle=\"click\"] > .menu-link .menu-toggle', 'click', Plugin.handleSubmenuDropdownClick);\n        the.eventHandlers['event_5'] = KTUtil.on(element, '[data-menu-toggle=\"tab\"] > .menu-toggle, [data-menu-toggle=\"tab\"] > .menu-link .menu-toggle', 'click', Plugin.handleSubmenuDropdownTabClick);\n      } // handle link click\n\n\n      the.eventHandlers['event_6'] = KTUtil.on(element, '.menu-item > .menu-link:not(.menu-toggle):not(.menu-link-toggle-skip)', 'click', Plugin.handleLinkClick); // Init scrollable menu\n\n      if (the.options.scroll && the.options.scroll.height) {\n        Plugin.scrollInit();\n      }\n    },\n\n    /**\r\n     * Reset menu\r\n     * @returns {KTMenu}\r\n     */\n    reset: function reset() {\n      KTUtil.off(element, 'click', the.eventHandlers['event_1']); // dropdown submenu - hover toggle\n\n      KTUtil.off(element, 'mouseover', the.eventHandlers['event_2']);\n      KTUtil.off(element, 'mouseout', the.eventHandlers['event_3']); // dropdown submenu - click toggle\n\n      KTUtil.off(element, 'click', the.eventHandlers['event_4']);\n      KTUtil.off(element, 'click', the.eventHandlers['event_5']); // handle link click\n\n      KTUtil.off(element, 'click', the.eventHandlers['event_6']);\n    },\n\n    /**\r\n     * Init scroll menu\r\n     *\r\n    */\n    scrollInit: function scrollInit() {\n      if (the.options.scroll && the.options.scroll.height) {\n        KTUtil.scrollDestroy(element, true);\n        KTUtil.scrollInit(element, {\n          mobileNativeScroll: true,\n          windowScroll: false,\n          resetHeightOnDestroy: true,\n          handleWindowResize: true,\n          height: the.options.scroll.height,\n          rememberPosition: the.options.scroll.rememberPosition\n        });\n      } else {\n        KTUtil.scrollDestroy(element, true);\n      }\n    },\n\n    /**\r\n     * Update scroll menu\r\n    */\n    scrollUpdate: function scrollUpdate() {\n      if (the.options.scroll && the.options.scroll.height) {\n        KTUtil.scrollUpdate(element);\n      }\n    },\n\n    /**\r\n     * Scroll top\r\n    */\n    scrollTop: function scrollTop() {\n      if (the.options.scroll && the.options.scroll.height) {\n        KTUtil.scrollTop(element);\n      }\n    },\n\n    /**\r\n     * Get submenu mode for current breakpoint and menu state\r\n     * @returns {KTMenu}\r\n     */\n    getSubmenuMode: function getSubmenuMode(el) {\n      if (KTUtil.isBreakpointUp('lg')) {\n        if (el && KTUtil.hasAttr(el, 'data-menu-toggle') && KTUtil.attr(el, 'data-menu-toggle') == 'hover') {\n          return 'dropdown';\n        }\n\n        if (KTUtil.isset(the.options.submenu, 'desktop.state.body')) {\n          if (KTUtil.hasClasses(body, the.options.submenu.desktop.state.body)) {\n            return the.options.submenu.desktop.state.mode;\n          } else {\n            return the.options.submenu.desktop.default;\n          }\n        } else if (KTUtil.isset(the.options.submenu, 'desktop')) {\n          return the.options.submenu.desktop;\n        }\n      } else if (KTUtil.isBreakpointUp('md') && KTUtil.isBreakpointDown('lg') && KTUtil.isset(the.options.submenu, 'tablet')) {\n        return the.options.submenu.tablet;\n      } else if (KTUtil.isBreakpointDown('md') && KTUtil.isset(the.options.submenu, 'mobile')) {\n        return the.options.submenu.mobile;\n      } else {\n        return false;\n      }\n    },\n\n    /**\r\n     * Get submenu mode for current breakpoint and menu state\r\n     * @returns {KTMenu}\r\n     */\n    isConditionalSubmenuDropdown: function isConditionalSubmenuDropdown() {\n      if (KTUtil.isBreakpointUp('lg') && KTUtil.isset(the.options.submenu, 'desktop.state.body')) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    /**\r\n     * Reset submenu attributes\r\n     * @returns {KTMenu}\r\n     */\n    resetSubmenuProps: function resetSubmenuProps(e) {\n      var submenus = KTUtil.findAll(element, '.menu-submenu');\n\n      if (submenus) {\n        for (var i = 0, len = submenus.length; i < len; i++) {\n          KTUtil.css(submenus[0], 'display', '');\n          KTUtil.css(submenus[0], 'overflow', '');\n        }\n      }\n    },\n\n    /**\r\n     * Handles submenu hover toggle\r\n     * @returns {KTMenu}\r\n     */\n    handleSubmenuDrodownHoverEnter: function handleSubmenuDrodownHoverEnter(e) {\n      if (Plugin.getSubmenuMode(this) === 'accordion') {\n        return;\n      }\n\n      if (the.resumeDropdownHover() === false) {\n        return;\n      }\n\n      var item = this;\n\n      if (item.getAttribute('data-hover') == '1') {\n        item.removeAttribute('data-hover');\n        clearTimeout(item.getAttribute('data-timeout'));\n        item.removeAttribute('data-timeout');\n      }\n\n      Plugin.showSubmenuDropdown(item);\n    },\n\n    /**\r\n     * Handles submenu hover toggle\r\n     * @returns {KTMenu}\r\n     */\n    handleSubmenuDrodownHoverExit: function handleSubmenuDrodownHoverExit(e) {\n      if (the.resumeDropdownHover() === false) {\n        return;\n      }\n\n      if (Plugin.getSubmenuMode(this) === 'accordion') {\n        return;\n      }\n\n      var item = this;\n      var time = the.options.dropdown.timeout;\n      var timeout = setTimeout(function () {\n        if (item.getAttribute('data-hover') == '1') {\n          Plugin.hideSubmenuDropdown(item, true);\n        }\n      }, time);\n      item.setAttribute('data-hover', '1');\n      item.setAttribute('data-timeout', timeout);\n    },\n\n    /**\r\n     * Handles submenu click toggle\r\n     * @returns {KTMenu}\r\n     */\n    handleSubmenuDropdownClick: function handleSubmenuDropdownClick(e) {\n      if (Plugin.getSubmenuMode(this) === 'accordion') {\n        return;\n      }\n\n      var item = this.closest('.menu-item'); // Trigger click event handlers\n\n      var result = Plugin.eventTrigger('submenuToggle', this, e);\n\n      if (result === false) {\n        return;\n      }\n\n      if (item.getAttribute('data-menu-submenu-mode') == 'accordion') {\n        return;\n      }\n\n      if (KTUtil.hasClass(item, 'menu-item-hover') === false) {\n        KTUtil.addClass(item, 'menu-item-open-dropdown');\n        Plugin.showSubmenuDropdown(item);\n      } else {\n        KTUtil.removeClass(item, 'menu-item-open-dropdown');\n        Plugin.hideSubmenuDropdown(item, true);\n      }\n\n      e.preventDefault();\n    },\n\n    /**\r\n     * Handles tab click toggle\r\n     * @returns {KTMenu}\r\n     */\n    handleSubmenuDropdownTabClick: function handleSubmenuDropdownTabClick(e) {\n      if (Plugin.getSubmenuMode(this) === 'accordion') {\n        return;\n      }\n\n      var item = this.closest('.menu-item'); // Trigger click event handlers\n\n      var result = Plugin.eventTrigger('submenuToggle', this, e);\n\n      if (result === false) {\n        return;\n      }\n\n      if (item.getAttribute('data-menu-submenu-mode') == 'accordion') {\n        return;\n      }\n\n      if (KTUtil.hasClass(item, 'menu-item-hover') == false) {\n        KTUtil.addClass(item, 'menu-item-open-dropdown');\n        Plugin.showSubmenuDropdown(item);\n      }\n\n      e.preventDefault();\n    },\n\n    /**\r\n     * Handles link click\r\n     * @returns {KTMenu}\r\n     */\n    handleLinkClick: function handleLinkClick(e) {\n      var submenu = this.closest('.menu-item.menu-item-submenu'); //\n      // Trigger click event handlers\n\n      var result = Plugin.eventTrigger('linkClick', this, e);\n\n      if (result === false) {\n        return;\n      }\n\n      if (submenu && Plugin.getSubmenuMode(submenu) === 'dropdown') {\n        Plugin.hideSubmenuDropdowns();\n      }\n    },\n\n    /**\r\n     * Handles submenu dropdown close on link click\r\n     * @returns {KTMenu}\r\n     */\n    handleSubmenuDropdownClose: function handleSubmenuDropdownClose(e, el) {\n      // exit if its not submenu dropdown mode\n      if (Plugin.getSubmenuMode(el) === 'accordion') {\n        return;\n      }\n\n      var shown = element.querySelectorAll('.menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)'); // check if currently clicked link's parent item ha\n\n      if (shown.length > 0 && KTUtil.hasClass(el, 'menu-toggle') === false && el.querySelectorAll('.menu-toggle').length === 0) {\n        // close opened dropdown menus\n        for (var i = 0, len = shown.length; i < len; i++) {\n          Plugin.hideSubmenuDropdown(shown[0], true);\n        }\n      }\n    },\n\n    /**\r\n     * helper functions\r\n     * @returns {KTMenu}\r\n     */\n    handleSubmenuAccordion: function handleSubmenuAccordion(e, el) {\n      var query;\n      var item = el ? el : this; // Trigger click event handlers\n\n      var result = Plugin.eventTrigger('submenuToggle', this, e);\n\n      if (result === false) {\n        return;\n      }\n\n      if (Plugin.getSubmenuMode(el) === 'dropdown' && (query = item.closest('.menu-item'))) {\n        if (query.getAttribute('data-menu-submenu-mode') != 'accordion') {\n          e.preventDefault();\n          return;\n        }\n      }\n\n      var li = item.closest('.menu-item');\n      var submenu = KTUtil.child(li, '.menu-submenu, .menu-inner');\n\n      if (KTUtil.hasClass(item.closest('.menu-item'), 'menu-item-open-always')) {\n        return;\n      }\n\n      if (li && submenu) {\n        e.preventDefault();\n        var speed = the.options.accordion.slideSpeed;\n        var hasClosables = false;\n\n        if (KTUtil.hasClass(li, 'menu-item-open') === false) {\n          // hide other accordions\n          if (the.options.accordion.expandAll === false) {\n            var subnav = item.closest('.menu-nav, .menu-subnav');\n            var closables = KTUtil.children(subnav, '.menu-item.menu-item-open.menu-item-submenu:not(.menu-item-here):not(.menu-item-open-always)');\n\n            if (subnav && closables) {\n              for (var i = 0, len = closables.length; i < len; i++) {\n                var el_ = closables[0];\n                var submenu_ = KTUtil.child(el_, '.menu-submenu');\n\n                if (submenu_) {\n                  KTUtil.slideUp(submenu_, speed, function () {\n                    Plugin.scrollUpdate();\n                    KTUtil.removeClass(el_, 'menu-item-open');\n                  });\n                }\n              }\n            }\n          }\n\n          KTUtil.slideDown(submenu, speed, function () {\n            Plugin.scrollToItem(item);\n            Plugin.scrollUpdate();\n            Plugin.eventTrigger('submenuToggle', submenu, e);\n          });\n          KTUtil.addClass(li, 'menu-item-open');\n        } else {\n          KTUtil.slideUp(submenu, speed, function () {\n            Plugin.scrollToItem(item);\n            Plugin.eventTrigger('submenuToggle', submenu, e);\n          });\n          KTUtil.removeClass(li, 'menu-item-open');\n        }\n      }\n    },\n\n    /**\r\n     * scroll to item function\r\n     * @returns {KTMenu}\r\n     */\n    scrollToItem: function scrollToItem(item) {\n      // handle auto scroll for accordion submenus\n      if (KTUtil.isBreakpointUp('lg') && the.options.accordion.autoScroll && element.getAttribute('data-menu-scroll') !== '1') {\n        KTUtil.scrollTo(item, the.options.accordion.autoScrollSpeed);\n      }\n    },\n\n    /**\r\n     * Hide submenu dropdown\r\n     * @returns {KTMenu}\r\n     */\n    hideSubmenuDropdown: function hideSubmenuDropdown(item, classAlso) {\n      // remove submenu activation class\n      if (classAlso) {\n        KTUtil.removeClass(item, 'menu-item-hover');\n        KTUtil.removeClass(item, 'menu-item-active-tab');\n      } // clear timeout\n\n\n      item.removeAttribute('data-hover');\n\n      if (item.getAttribute('data-menu-toggle-class')) {\n        KTUtil.removeClass(body, item.getAttribute('data-menu-toggle-class'));\n      }\n\n      var timeout = item.getAttribute('data-timeout');\n      item.removeAttribute('data-timeout');\n      clearTimeout(timeout);\n    },\n\n    /**\r\n     * Hide submenu dropdowns\r\n     * @returns {KTMenu}\r\n     */\n    hideSubmenuDropdowns: function hideSubmenuDropdowns() {\n      var items;\n\n      if (items = element.querySelectorAll('.menu-item-submenu.menu-item-hover:not(.menu-item-tabs):not([data-menu-toggle=\"tab\"])')) {\n        for (var j = 0, cnt = items.length; j < cnt; j++) {\n          Plugin.hideSubmenuDropdown(items[j], true);\n        }\n      }\n    },\n\n    /**\r\n     * helper functions\r\n     * @returns {KTMenu}\r\n     */\n    showSubmenuDropdown: function showSubmenuDropdown(item) {\n      // close active submenus\n      var list = element.querySelectorAll('.menu-item-submenu.menu-item-hover, .menu-item-submenu.menu-item-active-tab');\n\n      if (list) {\n        for (var i = 0, len = list.length; i < len; i++) {\n          var el = list[i];\n\n          if (item !== el && el.contains(item) === false && item.contains(el) === false) {\n            Plugin.hideSubmenuDropdown(el, true);\n          }\n        }\n      } // add submenu activation class\n\n\n      KTUtil.addClass(item, 'menu-item-hover');\n\n      if (item.getAttribute('data-menu-toggle-class')) {\n        KTUtil.addClass(body, item.getAttribute('data-menu-toggle-class'));\n      }\n    },\n\n    /**\r\n     * Handles submenu slide toggle\r\n     * @returns {KTMenu}\r\n     */\n    createSubmenuDropdownClickDropoff: function createSubmenuDropdownClickDropoff(el) {\n      var query;\n      var zIndex = (query = KTUtil.child(el, '.menu-submenu') ? KTUtil.css(query, 'z-index') : 0) - 1;\n      var dropoff = document.createElement('<div class=\"menu-dropoff\" style=\"background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: ' + zIndex + '\"></div>');\n      body.appendChild(dropoff);\n      KTUtil.addEvent(dropoff, 'click', function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n        KTUtil.remove(this);\n        Plugin.hideSubmenuDropdown(el, true);\n      });\n    },\n\n    /**\r\n     * Handles submenu hover toggle\r\n     * @returns {KTMenu}\r\n     */\n    pauseDropdownHover: function pauseDropdownHover(time) {\n      var date = new Date();\n      the.pauseDropdownHoverTime = date.getTime() + time;\n    },\n\n    /**\r\n     * Handles submenu hover toggle\r\n     * @returns {KTMenu}\r\n     */\n    resumeDropdownHover: function resumeDropdownHover() {\n      var date = new Date();\n      return date.getTime() > the.pauseDropdownHoverTime ? true : false;\n    },\n\n    /**\r\n     * Reset menu's current active item\r\n     * @returns {KTMenu}\r\n     */\n    resetActiveItem: function resetActiveItem(item) {\n      var list;\n      var parents;\n      list = element.querySelectorAll('.menu-item-active');\n\n      for (var i = 0, len = list.length; i < len; i++) {\n        var el = list[0];\n        KTUtil.removeClass(el, 'menu-item-active');\n        KTUtil.hide(KTUtil.child(el, '.menu-submenu'));\n        parents = KTUtil.parents(el, '.menu-item-submenu') || [];\n\n        for (var i_ = 0, len_ = parents.length; i_ < len_; i_++) {\n          var el_ = parents[i];\n          KTUtil.removeClass(el_, 'menu-item-open');\n          KTUtil.hide(KTUtil.child(el_, '.menu-submenu'));\n        }\n      } // close open submenus\n\n\n      if (the.options.accordion.expandAll === false) {\n        if (list = element.querySelectorAll('.menu-item-open')) {\n          for (var i = 0, len = list.length; i < len; i++) {\n            KTUtil.removeClass(parents[0], 'menu-item-open');\n          }\n        }\n      }\n    },\n\n    /**\r\n     * Sets menu's active item\r\n     * @returns {KTMenu}\r\n     */\n    setActiveItem: function setActiveItem(item) {\n      // reset current active item\n      Plugin.resetActiveItem();\n      var parents = KTUtil.parents(item, '.menu-item-submenu') || [];\n\n      for (var i = 0, len = parents.length; i < len; i++) {\n        KTUtil.addClass(parents[i], 'menu-item-open');\n      }\n\n      KTUtil.addClass(item, 'menu-item-active');\n    },\n\n    /**\r\n     * Returns page breadcrumbs for the menu's active item\r\n     * @returns {KTMenu}\r\n     */\n    getBreadcrumbs: function getBreadcrumbs(item) {\n      var query;\n      var breadcrumbs = [];\n      var link = KTUtil.child(item, '.menu-link');\n      breadcrumbs.push({\n        text: query = KTUtil.child(link, '.menu-text') ? query.innerHTML : '',\n        title: link.getAttribute('title'),\n        href: link.getAttribute('href')\n      });\n      var parents = KTUtil.parents(item, '.menu-item-submenu');\n\n      for (var i = 0, len = parents.length; i < len; i++) {\n        var submenuLink = KTUtil.child(parents[i], '.menu-link');\n        breadcrumbs.push({\n          text: query = KTUtil.child(submenuLink, '.menu-text') ? query.innerHTML : '',\n          title: submenuLink.getAttribute('title'),\n          href: submenuLink.getAttribute('href')\n        });\n      }\n\n      return breadcrumbs.reverse();\n    },\n\n    /**\r\n     * Returns page title for the menu's active item\r\n     * @returns {KTMenu}\r\n     */\n    getPageTitle: function getPageTitle(item) {\n      var query;\n      return query = KTUtil.child(item, '.menu-text') ? query.innerHTML : '';\n    },\n\n    /**\r\n     * Trigger events\r\n     */\n    eventTrigger: function eventTrigger(name, target, e) {\n      for (var i = 0; i < the.events.length; i++) {\n        var event = the.events[i];\n\n        if (event.name == name) {\n          if (event.one == true) {\n            if (event.fired == false) {\n              the.events[i].fired = true;\n              return event.handler.call(this, target, e);\n            }\n          } else {\n            return event.handler.call(this, target, e);\n          }\n        }\n      }\n    },\n    addEvent: function addEvent(name, handler, one) {\n      the.events.push({\n        name: name,\n        handler: handler,\n        one: one,\n        fired: false\n      });\n    },\n    removeEvent: function removeEvent(name) {\n      if (the.events[name]) {\n        delete the.events[name];\n      }\n    }\n  }; //////////////////////////\n  // ** Public Methods ** //\n  //////////////////////////\n\n  /**\r\n   * Set default options\r\n   */\n\n  the.setDefaults = function (options) {\n    defaultOptions = options;\n  };\n  /**\r\n   * Update scroll\r\n   */\n\n\n  the.scrollUpdate = function () {\n    return Plugin.scrollUpdate();\n  };\n  /**\r\n   * Re-init scroll\r\n   */\n\n\n  the.scrollReInit = function () {\n    return Plugin.scrollInit();\n  };\n  /**\r\n   * Scroll top\r\n   */\n\n\n  the.scrollTop = function () {\n    return Plugin.scrollTop();\n  };\n  /**\r\n   * Set active menu item\r\n   */\n\n\n  the.setActiveItem = function (item) {\n    return Plugin.setActiveItem(item);\n  };\n\n  the.reload = function () {\n    return Plugin.reload();\n  };\n\n  the.update = function (options) {\n    return Plugin.update(options);\n  };\n  /**\r\n   * Set breadcrumb for menu item\r\n   */\n\n\n  the.getBreadcrumbs = function (item) {\n    return Plugin.getBreadcrumbs(item);\n  };\n  /**\r\n   * Set page title for menu item\r\n   */\n\n\n  the.getPageTitle = function (item) {\n    return Plugin.getPageTitle(item);\n  };\n  /**\r\n   * Get submenu mode\r\n   */\n\n\n  the.getSubmenuMode = function (el) {\n    return Plugin.getSubmenuMode(el);\n  };\n  /**\r\n   * Hide dropdown\r\n   * @returns {Object}\r\n   */\n\n\n  the.hideDropdown = function (item) {\n    Plugin.hideSubmenuDropdown(item, true);\n  };\n  /**\r\n   * Hide dropdowns\r\n   * @returns {Object}\r\n   */\n\n\n  the.hideDropdowns = function () {\n    Plugin.hideSubmenuDropdowns();\n  };\n  /**\r\n   * Disable menu for given time\r\n   * @returns {Object}\r\n   */\n\n\n  the.pauseDropdownHover = function (time) {\n    Plugin.pauseDropdownHover(time);\n  };\n  /**\r\n   * Disable menu for given time\r\n   * @returns {Object}\r\n   */\n\n\n  the.resumeDropdownHover = function () {\n    return Plugin.resumeDropdownHover();\n  };\n  /**\r\n   * Register event\r\n   */\n\n\n  the.on = function (name, handler) {\n    return Plugin.addEvent(name, handler);\n  };\n\n  the.off = function (name) {\n    return Plugin.removeEvent(name);\n  };\n\n  the.one = function (name, handler) {\n    return Plugin.addEvent(name, handler, true);\n  }; ///////////////////////////////\n  // ** Plugin Construction ** //\n  ///////////////////////////////\n  // Run plugin\n\n\n  Plugin.construct.apply(the, [options]); // Handle plugin on window resize\n\n  KTUtil.addResizeHandler(function () {\n    if (init) {\n      the.reload();\n    }\n  }); // Init done\n\n  init = true; // Return plugin instance\n\n  return the;\n}; // webpack support\n\n\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {} // module.exports = KTMenu;\n// Plugin global lazy initialization\n\n\ndocument.addEventListener(\"click\", function (e) {\n  var body = KTUtil.getByTagName('body')[0];\n  var query;\n\n  if (query = body.querySelectorAll('.menu-nav .menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)[data-menu-toggle=\"click\"]')) {\n    for (var i = 0, len = query.length; i < len; i++) {\n      var element = query[i].closest('.menu-nav').parentNode;\n\n      if (element) {\n        var the = KTUtil.data(element).get('menu');\n\n        if (!the) {\n          break;\n        }\n\n        if (!the || the.getSubmenuMode() !== 'dropdown') {\n          break;\n        }\n\n        if (e.target !== element && element.contains(e.target) === false) {\n          the.hideDropdowns();\n        }\n      }\n    }\n  }\n});\nexport default KTMenu;","map":{"version":3,"sources":["/Applications/MAMP/htdocs/project/client/src/_metronic/_assets/js/components/menu.js"],"names":["KTUtil","KTMenu","elementId","options","the","init","element","getById","body","getBody","defaultOptions","scroll","rememberPosition","accordion","slideSpeed","autoScroll","autoScrollSpeed","expandAll","dropdown","timeout","Plugin","construct","data","has","get","reset","build","set","events","eventHandlers","deepExtend","pauseDropdownHoverTime","uid","getUniqueID","update","reload","resetSubmenuProps","on","handleSubmenuAccordion","getSubmenuMode","isConditionalSubmenuDropdown","handleSubmenuDrodownHoverEnter","handleSubmenuDrodownHoverExit","handleSubmenuDropdownClick","handleSubmenuDropdownTabClick","handleLinkClick","height","scrollInit","off","scrollDestroy","mobileNativeScroll","windowScroll","resetHeightOnDestroy","handleWindowResize","scrollUpdate","scrollTop","el","isBreakpointUp","hasAttr","attr","isset","submenu","hasClasses","desktop","state","mode","default","isBreakpointDown","tablet","mobile","e","submenus","findAll","i","len","length","css","resumeDropdownHover","item","getAttribute","removeAttribute","clearTimeout","showSubmenuDropdown","time","setTimeout","hideSubmenuDropdown","setAttribute","closest","result","eventTrigger","hasClass","addClass","removeClass","preventDefault","hideSubmenuDropdowns","handleSubmenuDropdownClose","shown","querySelectorAll","query","li","child","speed","hasClosables","subnav","closables","children","el_","submenu_","slideUp","slideDown","scrollToItem","scrollTo","classAlso","items","j","cnt","list","contains","createSubmenuDropdownClickDropoff","zIndex","dropoff","document","createElement","appendChild","addEvent","stopPropagation","remove","pauseDropdownHover","date","Date","getTime","resetActiveItem","parents","hide","i_","len_","setActiveItem","getBreadcrumbs","breadcrumbs","link","push","text","innerHTML","title","href","submenuLink","reverse","getPageTitle","name","target","event","one","fired","handler","call","removeEvent","setDefaults","scrollReInit","hideDropdown","hideDropdowns","apply","addResizeHandler","module","exports","addEventListener","getByTagName","parentNode"],"mappings":"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","sourcesContent":["/* eslint-disable */\n\"use strict\";\n\nimport { KTUtil } from \"./util\";\r\n\r\n// Component Definition\r\nvar KTMenu = function(elementId, options) {\r\n    // Main object\r\n    var the = this;\r\n    var init = false;\r\n\r\n    // Get element object\r\n    var element = KTUtil.getById(elementId);\r\n    var body = KTUtil.getBody();\r\n\r\n    if (!element) {\r\n        return;\r\n    }\r\n\r\n    // Default options\r\n    var defaultOptions = {\r\n        // scrollable area with Perfect Scroll\r\n        scroll: {\r\n            rememberPosition: false\r\n        },\r\n\r\n        // accordion submenu mode\r\n        accordion: {\r\n            slideSpeed: 200, // accordion toggle slide speed in milliseconds\r\n            autoScroll: false, // enable auto scrolling(focus) to the clicked menu item\r\n            autoScrollSpeed: 1200,\r\n            expandAll: true // allow having multiple expanded accordions in the menu\r\n        },\r\n\r\n        // dropdown submenu mode\r\n        dropdown: {\r\n            timeout: 500 // timeout in milliseconds to show and hide the hoverable submenu dropdown\r\n        }\r\n    };\r\n\r\n    ////////////////////////////\r\n    // ** Private Methods  ** //\r\n    ////////////////////////////\r\n\r\n    var Plugin = {\r\n        /**\r\n         * Run plugin\r\n         * @returns {KTMenu}\r\n         */\r\n        construct: function(options) {\r\n            if (KTUtil.data(element).has('menu')) {\r\n                the = KTUtil.data(element).get('menu');\r\n            } else {\r\n                // reset menu\r\n                Plugin.init(options);\r\n\r\n                // reset menu\r\n                Plugin.reset();\r\n\r\n                // build menu\r\n                Plugin.build();\r\n\r\n                KTUtil.data(element).set('menu', the);\r\n            }\r\n\r\n            return the;\r\n        },\r\n\r\n        /**\r\n         * Handles submenu click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        init: function(options) {\r\n            the.events = [];\r\n\r\n            the.eventHandlers = {};\r\n\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // pause menu\r\n            the.pauseDropdownHoverTime = 0;\r\n\r\n            the.uid = KTUtil.getUniqueID();\r\n        },\r\n\r\n        update: function(options) {\r\n            // merge default and user defined options\r\n            the.options = KTUtil.deepExtend({}, defaultOptions, options);\r\n\r\n            // pause menu\r\n            the.pauseDropdownHoverTime = 0;\r\n\r\n             // reset menu\r\n            Plugin.reset();\r\n\r\n            the.eventHandlers = {};\r\n\r\n            // build menu\r\n            Plugin.build();\r\n\r\n            KTUtil.data(element).set('menu', the);\r\n        },\r\n\r\n        reload: function() {\r\n             // reset menu\r\n            Plugin.reset();\r\n\r\n            // build menu\r\n            Plugin.build();\r\n\r\n            // reset submenu props\r\n            Plugin.resetSubmenuProps();\r\n        },\r\n\r\n        /**\r\n         * Reset menu\r\n         * @returns {KTMenu}\r\n         */\r\n        build: function() {\r\n            // General accordion submenu toggle\r\n            the.eventHandlers['event_1'] = KTUtil.on( element, '.menu-toggle', 'click', Plugin.handleSubmenuAccordion);\r\n\r\n            // Dropdown mode(hoverable)\r\n            if (Plugin.getSubmenuMode() === 'dropdown' || Plugin.isConditionalSubmenuDropdown()) {\r\n                // dropdown submenu - hover toggle\r\n                the.eventHandlers['event_2'] = KTUtil.on( element, '[data-menu-toggle=\"hover\"]', 'mouseover', Plugin.handleSubmenuDrodownHoverEnter);\r\n                the.eventHandlers['event_3'] = KTUtil.on( element, '[data-menu-toggle=\"hover\"]', 'mouseout', Plugin.handleSubmenuDrodownHoverExit);\r\n\r\n                // dropdown submenu - click toggle\r\n                the.eventHandlers['event_4'] = KTUtil.on( element, '[data-menu-toggle=\"click\"] > .menu-toggle, [data-menu-toggle=\"click\"] > .menu-link .menu-toggle', 'click', Plugin.handleSubmenuDropdownClick);\r\n                the.eventHandlers['event_5'] = KTUtil.on( element, '[data-menu-toggle=\"tab\"] > .menu-toggle, [data-menu-toggle=\"tab\"] > .menu-link .menu-toggle', 'click', Plugin.handleSubmenuDropdownTabClick);\r\n            }\r\n\r\n            // handle link click\r\n            the.eventHandlers['event_6'] = KTUtil.on(element, '.menu-item > .menu-link:not(.menu-toggle):not(.menu-link-toggle-skip)', 'click', Plugin.handleLinkClick);\r\n\r\n            // Init scrollable menu\r\n            if (the.options.scroll && the.options.scroll.height) {\r\n                Plugin.scrollInit();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Reset menu\r\n         * @returns {KTMenu}\r\n         */\r\n        reset: function() {\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_1']);\r\n\r\n            // dropdown submenu - hover toggle\r\n            KTUtil.off( element, 'mouseover', the.eventHandlers['event_2']);\r\n            KTUtil.off( element, 'mouseout', the.eventHandlers['event_3']);\r\n\r\n            // dropdown submenu - click toggle\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_4']);\r\n            KTUtil.off( element, 'click', the.eventHandlers['event_5']);\r\n\r\n            // handle link click\r\n            KTUtil.off(element, 'click', the.eventHandlers['event_6']);\r\n        },\r\n\r\n        /**\r\n         * Init scroll menu\r\n         *\r\n        */\r\n        scrollInit: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollDestroy(element, true);\r\n                KTUtil.scrollInit(element, {mobileNativeScroll: true, windowScroll: false, resetHeightOnDestroy: true, handleWindowResize: true, height: the.options.scroll.height, rememberPosition: the.options.scroll.rememberPosition});\r\n            } else {\r\n                KTUtil.scrollDestroy(element, true);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Update scroll menu\r\n        */\r\n        scrollUpdate: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollUpdate(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Scroll top\r\n        */\r\n        scrollTop: function() {\r\n            if ( the.options.scroll && the.options.scroll.height ) {\r\n                KTUtil.scrollTop(element);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get submenu mode for current breakpoint and menu state\r\n         * @returns {KTMenu}\r\n         */\r\n        getSubmenuMode: function(el) {\r\n            if ( KTUtil.isBreakpointUp('lg') ) {\r\n                if (el && KTUtil.hasAttr(el, 'data-menu-toggle') && KTUtil.attr(el, 'data-menu-toggle') == 'hover') {\r\n                    return 'dropdown';\r\n                }\r\n\r\n                if ( KTUtil.isset(the.options.submenu, 'desktop.state.body') ) {\r\n                    if ( KTUtil.hasClasses(body, the.options.submenu.desktop.state.body) ) {\r\n                        return the.options.submenu.desktop.state.mode;\r\n                    } else {\r\n                        return the.options.submenu.desktop.default;\r\n                    }\r\n                } else if ( KTUtil.isset(the.options.submenu, 'desktop') ) {\r\n                    return the.options.submenu.desktop;\r\n                }\r\n            } else if ( KTUtil.isBreakpointUp('md') && KTUtil.isBreakpointDown('lg') && KTUtil.isset(the.options.submenu, 'tablet') ) {\r\n                return the.options.submenu.tablet;\r\n            } else if ( KTUtil.isBreakpointDown('md') && KTUtil.isset(the.options.submenu, 'mobile') ) {\r\n                return the.options.submenu.mobile;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get submenu mode for current breakpoint and menu state\r\n         * @returns {KTMenu}\r\n         */\r\n        isConditionalSubmenuDropdown: function() {\r\n            if ( KTUtil.isBreakpointUp('lg') && KTUtil.isset(the.options.submenu, 'desktop.state.body') ) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n\r\n        /**\r\n         * Reset submenu attributes\r\n         * @returns {KTMenu}\r\n         */\r\n        resetSubmenuProps: function(e) {\r\n            var submenus = KTUtil.findAll(element, '.menu-submenu');\r\n            if ( submenus ) {\r\n                for (var i = 0, len = submenus.length; i < len; i++) {\r\n                    KTUtil.css(submenus[0], 'display', '');\r\n                    KTUtil.css(submenus[0], 'overflow', '');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDrodownHoverEnter: function(e) {\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            if ( the.resumeDropdownHover() === false ) {\r\n                return;\r\n            }\r\n\r\n            var item = this;\r\n\r\n            if ( item.getAttribute('data-hover') == '1' ) {\r\n                item.removeAttribute('data-hover');\r\n                clearTimeout( item.getAttribute('data-timeout') );\r\n                item.removeAttribute('data-timeout');\r\n            }\r\n\r\n            Plugin.showSubmenuDropdown(item);\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDrodownHoverExit: function(e) {\r\n            if ( the.resumeDropdownHover() === false ) {\r\n                return;\r\n            }\r\n\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            var item = this;\r\n            var time = the.options.dropdown.timeout;\r\n\r\n            var timeout = setTimeout(function() {\r\n                if ( item.getAttribute('data-hover') == '1' ) {\r\n                    Plugin.hideSubmenuDropdown(item, true);\r\n                }\r\n            }, time);\r\n\r\n            item.setAttribute('data-hover', '1');\r\n            item.setAttribute('data-timeout', timeout);\r\n        },\r\n\r\n        /**\r\n         * Handles submenu click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownClick: function(e) {\r\n            if ( Plugin.getSubmenuMode(this) === 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            var item = this.closest('.menu-item');\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('submenuToggle', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if ( item.getAttribute('data-menu-submenu-mode') == 'accordion' ) {\r\n                return;\r\n            }\r\n\r\n            if ( KTUtil.hasClass(item, 'menu-item-hover') === false ) {\r\n                KTUtil.addClass(item, 'menu-item-open-dropdown');\r\n                Plugin.showSubmenuDropdown(item);\r\n            } else {\r\n                KTUtil.removeClass(item, 'menu-item-open-dropdown' );\r\n                Plugin.hideSubmenuDropdown(item, true);\r\n            }\r\n\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * Handles tab click toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownTabClick: function(e) {\r\n            if (Plugin.getSubmenuMode(this) === 'accordion') {\r\n                return;\r\n            }\r\n            var item = this.closest('.menu-item');\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('submenuToggle', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if (item.getAttribute('data-menu-submenu-mode') == 'accordion') {\r\n                return;\r\n            }\r\n\r\n            if (KTUtil.hasClass(item, 'menu-item-hover') == false) {\r\n                KTUtil.addClass(item, 'menu-item-open-dropdown');\r\n                Plugin.showSubmenuDropdown(item);\r\n            }\r\n\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * Handles link click\r\n         * @returns {KTMenu}\r\n         */\r\n        handleLinkClick: function(e) {\r\n            var submenu = this.closest('.menu-item.menu-item-submenu'); //\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('linkClick', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if ( submenu && Plugin.getSubmenuMode(submenu) === 'dropdown' ) {\r\n                Plugin.hideSubmenuDropdowns();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu dropdown close on link click\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuDropdownClose: function(e, el) {\r\n            // exit if its not submenu dropdown mode\r\n            if (Plugin.getSubmenuMode(el) === 'accordion') {\r\n                return;\r\n            }\r\n\r\n            var shown = element.querySelectorAll('.menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)');\r\n\r\n            // check if currently clicked link's parent item ha\r\n            if (shown.length > 0 && KTUtil.hasClass(el, 'menu-toggle') === false && el.querySelectorAll('.menu-toggle').length === 0) {\r\n                // close opened dropdown menus\r\n                for (var i = 0, len = shown.length; i < len; i++) {\r\n                    Plugin.hideSubmenuDropdown(shown[0], true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KTMenu}\r\n         */\r\n        handleSubmenuAccordion: function(e, el) {\r\n            var query;\r\n            var item = el ? el : this;\r\n\r\n            // Trigger click event handlers\r\n            var result = Plugin.eventTrigger('submenuToggle', this, e);\r\n            if (result === false) {\r\n                return;\r\n            }\r\n\r\n            if ( Plugin.getSubmenuMode(el) === 'dropdown' && (query = item.closest('.menu-item') ) ) {\r\n                if (query.getAttribute('data-menu-submenu-mode') != 'accordion' ) {\r\n                    e.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            var li = item.closest('.menu-item');\r\n            var submenu = KTUtil.child(li, '.menu-submenu, .menu-inner');\r\n\r\n            if (KTUtil.hasClass(item.closest('.menu-item'), 'menu-item-open-always')) {\r\n                return;\r\n            }\r\n\r\n            if ( li && submenu ) {\r\n                e.preventDefault();\r\n                var speed = the.options.accordion.slideSpeed;\r\n                var hasClosables = false;\r\n\r\n                if ( KTUtil.hasClass(li, 'menu-item-open') === false ) {\r\n                    // hide other accordions\r\n                    if ( the.options.accordion.expandAll === false ) {\r\n                        var subnav = item.closest('.menu-nav, .menu-subnav');\r\n                        var closables = KTUtil.children(subnav, '.menu-item.menu-item-open.menu-item-submenu:not(.menu-item-here):not(.menu-item-open-always)');\r\n\r\n                        if ( subnav && closables ) {\r\n                            for (var i = 0, len = closables.length; i < len; i++) {\r\n                                var el_ = closables[0];\r\n                                var submenu_ = KTUtil.child(el_, '.menu-submenu');\r\n                                if ( submenu_ ) {\r\n                                    KTUtil.slideUp(submenu_, speed, function() {\r\n                                        Plugin.scrollUpdate();\r\n                                        KTUtil.removeClass(el_, 'menu-item-open');\r\n                                    });\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    KTUtil.slideDown(submenu, speed, function() {\r\n                        Plugin.scrollToItem(item);\r\n                        Plugin.scrollUpdate();\r\n\r\n                        Plugin.eventTrigger('submenuToggle', submenu, e);\r\n                    });\r\n\r\n                    KTUtil.addClass(li, 'menu-item-open');\r\n\r\n                } else {\r\n                    KTUtil.slideUp(submenu, speed, function() {\r\n                        Plugin.scrollToItem(item);\r\n                        Plugin.eventTrigger('submenuToggle', submenu, e);\r\n                    });\r\n\r\n                    KTUtil.removeClass(li, 'menu-item-open');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * scroll to item function\r\n         * @returns {KTMenu}\r\n         */\r\n        scrollToItem: function(item) {\r\n            // handle auto scroll for accordion submenus\r\n            if ( KTUtil.isBreakpointUp('lg')  && the.options.accordion.autoScroll && element.getAttribute('data-menu-scroll') !== '1' ) {\r\n                KTUtil.scrollTo(item, the.options.accordion.autoScrollSpeed);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Hide submenu dropdown\r\n         * @returns {KTMenu}\r\n         */\r\n        hideSubmenuDropdown: function(item, classAlso) {\r\n            // remove submenu activation class\r\n            if ( classAlso ) {\r\n                KTUtil.removeClass(item, 'menu-item-hover');\r\n                KTUtil.removeClass(item, 'menu-item-active-tab');\r\n            }\r\n\r\n            // clear timeout\r\n            item.removeAttribute('data-hover');\r\n\r\n            if ( item.getAttribute('data-menu-toggle-class') ) {\r\n                KTUtil.removeClass(body, item.getAttribute('data-menu-toggle-class'));\r\n            }\r\n\r\n            var timeout = item.getAttribute('data-timeout');\r\n            item.removeAttribute('data-timeout');\r\n            clearTimeout(timeout);\r\n        },\r\n\r\n        /**\r\n         * Hide submenu dropdowns\r\n         * @returns {KTMenu}\r\n         */\r\n        hideSubmenuDropdowns: function() {\r\n            var items;\r\n            if ( items = element.querySelectorAll('.menu-item-submenu.menu-item-hover:not(.menu-item-tabs):not([data-menu-toggle=\"tab\"])') ) {\r\n                for (var j = 0, cnt = items.length; j < cnt; j++) {\r\n                    Plugin.hideSubmenuDropdown(items[j], true);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * helper functions\r\n         * @returns {KTMenu}\r\n         */\r\n        showSubmenuDropdown: function(item) {\r\n            // close active submenus\r\n            var list = element.querySelectorAll('.menu-item-submenu.menu-item-hover, .menu-item-submenu.menu-item-active-tab');\r\n\r\n            if ( list ) {\r\n                for (var i = 0, len = list.length; i < len; i++) {\r\n                    var el = list[i];\r\n                    if ( item !== el && el.contains(item) === false && item.contains(el) === false ) {\r\n                        Plugin.hideSubmenuDropdown(el, true);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // add submenu activation class\r\n            KTUtil.addClass(item, 'menu-item-hover');\r\n\r\n            if ( item.getAttribute('data-menu-toggle-class') ) {\r\n                KTUtil.addClass(body, item.getAttribute('data-menu-toggle-class'));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Handles submenu slide toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        createSubmenuDropdownClickDropoff: function(el) {\r\n            var query;\r\n            var zIndex = (query = KTUtil.child(el, '.menu-submenu') ? KTUtil.css(query, 'z-index') : 0) - 1;\r\n\r\n            var dropoff = document.createElement('<div class=\"menu-dropoff\" style=\"background: transparent; position: fixed; top: 0; bottom: 0; left: 0; right: 0; z-index: ' + zIndex + '\"></div>');\r\n\r\n            body.appendChild(dropoff);\r\n\r\n            KTUtil.addEvent(dropoff, 'click', function(e) {\r\n                e.stopPropagation();\r\n                e.preventDefault();\r\n                KTUtil.remove(this);\r\n                Plugin.hideSubmenuDropdown(el, true);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        pauseDropdownHover: function(time) {\r\n            var date = new Date();\r\n\r\n            the.pauseDropdownHoverTime = date.getTime() + time;\r\n        },\r\n\r\n        /**\r\n         * Handles submenu hover toggle\r\n         * @returns {KTMenu}\r\n         */\r\n        resumeDropdownHover: function() {\r\n            var date = new Date();\r\n\r\n            return (date.getTime() > the.pauseDropdownHoverTime ? true : false);\r\n        },\r\n\r\n        /**\r\n         * Reset menu's current active item\r\n         * @returns {KTMenu}\r\n         */\r\n        resetActiveItem: function(item) {\r\n            var list;\r\n            var parents;\r\n\r\n            list = element.querySelectorAll('.menu-item-active');\r\n\r\n            for (var i = 0, len = list.length; i < len; i++) {\r\n                var el = list[0];\r\n                KTUtil.removeClass(el, 'menu-item-active');\r\n                KTUtil.hide( KTUtil.child(el, '.menu-submenu') );\r\n                parents = KTUtil.parents(el, '.menu-item-submenu') || [];\r\n\r\n                for (var i_ = 0, len_ = parents.length; i_ < len_; i_++) {\r\n                    var el_ = parents[i];\r\n                    KTUtil.removeClass(el_, 'menu-item-open');\r\n                    KTUtil.hide( KTUtil.child(el_, '.menu-submenu') );\r\n                }\r\n            }\r\n\r\n            // close open submenus\r\n            if ( the.options.accordion.expandAll === false ) {\r\n                if ( list = element.querySelectorAll('.menu-item-open') ) {\r\n                    for (var i = 0, len = list.length; i < len; i++) {\r\n                        KTUtil.removeClass(parents[0], 'menu-item-open');\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Sets menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        setActiveItem: function(item) {\r\n            // reset current active item\r\n            Plugin.resetActiveItem();\r\n\r\n            var parents = KTUtil.parents(item, '.menu-item-submenu') || [];\r\n            for (var i = 0, len = parents.length; i < len; i++) {\r\n                KTUtil.addClass(parents[i], 'menu-item-open');\r\n            }\r\n\r\n            KTUtil.addClass(item, 'menu-item-active');\r\n        },\r\n\r\n        /**\r\n         * Returns page breadcrumbs for the menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        getBreadcrumbs: function(item) {\r\n            var query;\r\n            var breadcrumbs = [];\r\n            var link = KTUtil.child(item, '.menu-link');\r\n\r\n            breadcrumbs.push({\r\n                text: (query = KTUtil.child(link, '.menu-text') ? query.innerHTML : ''),\r\n                title: link.getAttribute('title'),\r\n                href: link.getAttribute('href')\r\n            });\r\n\r\n            var parents = KTUtil.parents(item, '.menu-item-submenu');\r\n            for (var i = 0, len = parents.length; i < len; i++) {\r\n                var submenuLink = KTUtil.child(parents[i], '.menu-link');\r\n\r\n                breadcrumbs.push({\r\n                    text: (query = KTUtil.child(submenuLink, '.menu-text') ? query.innerHTML : ''),\r\n                    title: submenuLink.getAttribute('title'),\r\n                    href: submenuLink.getAttribute('href')\r\n                });\r\n            }\r\n\r\n            return  breadcrumbs.reverse();\r\n        },\r\n\r\n        /**\r\n         * Returns page title for the menu's active item\r\n         * @returns {KTMenu}\r\n         */\r\n        getPageTitle: function(item) {\r\n            var query;\r\n\r\n            return (query = KTUtil.child(item, '.menu-text') ? query.innerHTML : '');\r\n        },\r\n\r\n        /**\r\n         * Trigger events\r\n         */\r\n        eventTrigger: function(name, target, e) {\r\n            for (var i = 0; i < the.events.length; i++ ) {\r\n                var event = the.events[i];\r\n                if ( event.name == name ) {\r\n                    if ( event.one == true ) {\r\n                        if ( event.fired == false ) {\r\n                            the.events[i].fired = true;\r\n                            return event.handler.call(this, target, e);\r\n                        }\r\n                    } else {\r\n                        return event.handler.call(this, target, e);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        addEvent: function(name, handler, one) {\r\n            the.events.push({\r\n                name: name,\r\n                handler: handler,\r\n                one: one,\r\n                fired: false\r\n            });\r\n        },\r\n\r\n        removeEvent: function(name) {\r\n            if (the.events[name]) {\r\n                delete the.events[name];\r\n            }\r\n        }\r\n    };\r\n\r\n    //////////////////////////\r\n    // ** Public Methods ** //\r\n    //////////////////////////\r\n\r\n    /**\r\n     * Set default options\r\n     */\r\n\r\n    the.setDefaults = function(options) {\r\n        defaultOptions = options;\r\n    };\r\n\r\n    /**\r\n     * Update scroll\r\n     */\r\n    the.scrollUpdate = function() {\r\n        return Plugin.scrollUpdate();\r\n    };\r\n\r\n    /**\r\n     * Re-init scroll\r\n     */\r\n    the.scrollReInit = function() {\r\n        return Plugin.scrollInit();\r\n    };\r\n\r\n    /**\r\n     * Scroll top\r\n     */\r\n    the.scrollTop = function() {\r\n        return Plugin.scrollTop();\r\n    };\r\n\r\n    /**\r\n     * Set active menu item\r\n     */\r\n    the.setActiveItem = function(item) {\r\n        return Plugin.setActiveItem(item);\r\n    };\r\n\r\n    the.reload = function() {\r\n        return Plugin.reload();\r\n    };\r\n\r\n    the.update = function(options) {\r\n        return Plugin.update(options);\r\n    };\r\n\r\n    /**\r\n     * Set breadcrumb for menu item\r\n     */\r\n    the.getBreadcrumbs = function(item) {\r\n        return Plugin.getBreadcrumbs(item);\r\n    };\r\n\r\n    /**\r\n     * Set page title for menu item\r\n     */\r\n    the.getPageTitle = function(item) {\r\n        return Plugin.getPageTitle(item);\r\n    };\r\n\r\n    /**\r\n     * Get submenu mode\r\n     */\r\n    the.getSubmenuMode = function(el) {\r\n        return Plugin.getSubmenuMode(el);\r\n    };\r\n\r\n    /**\r\n     * Hide dropdown\r\n     * @returns {Object}\r\n     */\r\n    the.hideDropdown = function(item) {\r\n        Plugin.hideSubmenuDropdown(item, true);\r\n    };\r\n\r\n    /**\r\n     * Hide dropdowns\r\n     * @returns {Object}\r\n     */\r\n    the.hideDropdowns = function() {\r\n        Plugin.hideSubmenuDropdowns();\r\n    };\r\n\r\n    /**\r\n     * Disable menu for given time\r\n     * @returns {Object}\r\n     */\r\n    the.pauseDropdownHover = function(time) {\r\n        Plugin.pauseDropdownHover(time);\r\n    };\r\n\r\n    /**\r\n     * Disable menu for given time\r\n     * @returns {Object}\r\n     */\r\n    the.resumeDropdownHover = function() {\r\n        return Plugin.resumeDropdownHover();\r\n    };\r\n\r\n    /**\r\n     * Register event\r\n     */\r\n    the.on = function(name, handler) {\r\n        return Plugin.addEvent(name, handler);\r\n    };\r\n\r\n    the.off = function(name) {\r\n        return Plugin.removeEvent(name);\r\n    };\r\n\r\n    the.one = function(name, handler) {\r\n        return Plugin.addEvent(name, handler, true);\r\n    };\r\n\r\n    ///////////////////////////////\r\n    // ** Plugin Construction ** //\r\n    ///////////////////////////////\r\n\r\n    // Run plugin\r\n    Plugin.construct.apply(the, [options]);\r\n\r\n    // Handle plugin on window resize\r\n    KTUtil.addResizeHandler(function() {\r\n        if (init) {\r\n            the.reload();\r\n        }\r\n    });\r\n\r\n    // Init done\r\n    init = true;\r\n\r\n    // Return plugin instance\r\n    return the;\r\n};\r\n\r\n// webpack support\r\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\r\n    // module.exports = KTMenu;\r\n}\r\n\r\n// Plugin global lazy initialization\r\ndocument.addEventListener(\"click\", function (e) {\r\n    var body = KTUtil.getByTagName('body')[0];\r\n    var query;\r\n    if ( query = body.querySelectorAll('.menu-nav .menu-item.menu-item-submenu.menu-item-hover:not(.menu-item-tabs)[data-menu-toggle=\"click\"]') ) {\r\n        for (var i = 0, len = query.length; i < len; i++) {\r\n            var element = query[i].closest('.menu-nav').parentNode;\r\n\r\n            if ( element ) {\r\n                var the = KTUtil.data(element).get('menu');\r\n\r\n                if ( !the ) {\r\n                    break;\r\n                }\r\n\r\n                if ( !the || the.getSubmenuMode() !== 'dropdown' ) {\r\n                    break;\r\n                }\r\n\r\n                if ( e.target !== element && element.contains(e.target) === false ) {\r\n                    the.hideDropdowns();\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n\nexport default KTMenu;"]},"metadata":{},"sourceType":"module"}