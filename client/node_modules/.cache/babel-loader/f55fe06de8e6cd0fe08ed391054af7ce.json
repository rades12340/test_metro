{"ast":null,"code":"import _toConsumableArray from \"/Applications/MAMP/htdocs/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Applications/MAMP/htdocs/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport remarkTableMock from \"./remarkTableMock\";\nimport MockUtils from \"./mock.utils\";\nexport default function mockRemarks(mock) {\n  mock.onPost(\"api/remarks\").reply(function (_ref) {\n    var data = _ref.data;\n\n    var _JSON$parse = JSON.parse(data),\n        remark = _JSON$parse.remark;\n\n    var carId = remark.carId,\n        _remark$text = remark.text,\n        text = _remark$text === void 0 ? \"\" : _remark$text,\n        _remark$dueDate = remark.dueDate,\n        dueDate = _remark$dueDate === void 0 ? \"01/01/2019\" : _remark$dueDate,\n        _remark$type = remark.type,\n        type = _remark$type === void 0 ? 0 : _remark$type;\n    var id = generateRemarkId();\n    var newRemark = {\n      id: id,\n      carId: +carId,\n      text: text,\n      dueDate: dueDate,\n      type: type\n    };\n    remarkTableMock.push(newRemark);\n    return [200, {\n      remark: newRemark\n    }];\n  });\n  mock.onPost(/api\\/remarksfind\\/\\d+/).reply(function (config) {\n    var urls = config.url.split(\"/\");\n    var id = urls[2];\n    var mockUtils = new MockUtils();\n\n    var _JSON$parse2 = JSON.parse(config.data),\n        queryParams = _JSON$parse2.queryParams;\n\n    var productRemarks = remarkTableMock.filter(function (el) {\n      return el.carId === +id;\n    });\n    var filterdRemarks = mockUtils.baseFilter(productRemarks, queryParams);\n    return [200, filterdRemarks];\n  });\n  mock.onPost(\"api/remarks/deleteRemarks\").reply(function (config) {\n    var _JSON$parse3 = JSON.parse(config.data),\n        ids = _JSON$parse3.ids;\n\n    ids.forEach(function (id) {\n      var index = remarkTableMock.findIndex(function (el) {\n        return el.id === id;\n      });\n\n      if (index > -1) {\n        remarkTableMock.splice(index, 1);\n      }\n    });\n    return [200];\n  });\n  mock.onGet(/api\\/remarks\\/\\d+/).reply(function (config) {\n    var id = config.url.match(/api\\/remarks\\/(\\d+)/)[1];\n    var remark = remarkTableMock.find(function (el) {\n      return el.id === +id;\n    });\n\n    if (!remark) {\n      return [400];\n    }\n\n    return [200, remark];\n  });\n  mock.onPut(/api\\/remarks\\/\\d+/).reply(function (config) {\n    var id = config.url.match(/api\\/remarks\\/(\\d+)/)[1];\n\n    var _JSON$parse4 = JSON.parse(config.data),\n        remark = _JSON$parse4.remark;\n\n    var index = remarkTableMock.findIndex(function (el) {\n      return el.id === +id;\n    });\n\n    if (!index) {\n      return [400];\n    }\n\n    remarkTableMock[index] = _objectSpread({}, remark);\n    return [200];\n  });\n  mock.onDelete(/api\\/remarks\\/\\d+/).reply(function (config) {\n    var id = config.url.match(/api\\/remarks\\/(\\d+)/)[1];\n    var index = remarkTableMock.findIndex(function (el) {\n      return el.id === +id;\n    });\n    remarkTableMock.splice(index, 1);\n\n    if (!index === -1) {\n      return [400];\n    }\n\n    return [200];\n  });\n}\n\nfunction generateRemarkId() {\n  var ids = remarkTableMock.map(function (el) {\n    return el.id;\n  });\n  var maxId = Math.max.apply(Math, _toConsumableArray(ids));\n  return maxId + 1;\n}","map":{"version":3,"sources":["/Applications/MAMP/htdocs/project/client/src/app/modules/ECommerce/__mocks__/mockRemark.js"],"names":["remarkTableMock","MockUtils","mockRemarks","mock","onPost","reply","data","JSON","parse","remark","carId","text","dueDate","type","id","generateRemarkId","newRemark","push","config","urls","url","split","mockUtils","queryParams","productRemarks","filter","el","filterdRemarks","baseFilter","ids","forEach","index","findIndex","splice","onGet","match","find","onPut","onDelete","map","maxId","Math","max"],"mappings":"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","sourcesContent":["import remarkTableMock from \"./remarkTableMock\";\r\nimport MockUtils from \"./mock.utils\";\r\n\r\nexport default function mockRemarks(mock) {\r\n  mock.onPost(\"api/remarks\").reply(({ data }) => {\r\n    const { remark } = JSON.parse(data);\r\n    const { carId, text = \"\", dueDate = \"01/01/2019\", type = 0 } = remark;\r\n    const id = generateRemarkId();\r\n    const newRemark = {\r\n      id,\r\n      carId: +carId,\r\n      text,\r\n      dueDate,\r\n      type\r\n    };\r\n    remarkTableMock.push(newRemark);\r\n    return [200, { remark: newRemark }];\r\n  });\r\n\r\n  mock.onPost(/api\\/remarksfind\\/\\d+/).reply(config => {\r\n    const urls = config.url.split(\"/\");\r\n    const id = urls[2];\r\n    const mockUtils = new MockUtils();\r\n    const { queryParams } = JSON.parse(config.data);\r\n    const productRemarks = remarkTableMock.filter(el => el.carId === +id);\r\n    const filterdRemarks = mockUtils.baseFilter(productRemarks, queryParams);\r\n    return [200, filterdRemarks];\r\n  });\r\n\r\n  mock.onPost(\"api/remarks/deleteRemarks\").reply(config => {\r\n    const { ids } = JSON.parse(config.data);\r\n    ids.forEach(id => {\r\n      const index = remarkTableMock.findIndex(el => el.id === id);\r\n      if (index > -1) {\r\n        remarkTableMock.splice(index, 1);\r\n      }\r\n    });\r\n    return [200];\r\n  });\r\n\r\n  mock.onGet(/api\\/remarks\\/\\d+/).reply(config => {\r\n    const id = config.url.match(/api\\/remarks\\/(\\d+)/)[1];\r\n    const remark = remarkTableMock.find(el => el.id === +id);\r\n    if (!remark) {\r\n      return [400];\r\n    }\r\n\r\n    return [200, remark];\r\n  });\r\n\r\n  mock.onPut(/api\\/remarks\\/\\d+/).reply(config => {\r\n    const id = config.url.match(/api\\/remarks\\/(\\d+)/)[1];\r\n    const { remark } = JSON.parse(config.data);\r\n    const index = remarkTableMock.findIndex(el => el.id === +id);\r\n    if (!index) {\r\n      return [400];\r\n    }\r\n\r\n    remarkTableMock[index] = { ...remark };\r\n    return [200];\r\n  });\r\n\r\n  mock.onDelete(/api\\/remarks\\/\\d+/).reply(config => {\r\n    const id = config.url.match(/api\\/remarks\\/(\\d+)/)[1];\r\n    const index = remarkTableMock.findIndex(el => el.id === +id);\r\n    remarkTableMock.splice(index, 1);\r\n    if (!index === -1) {\r\n      return [400];\r\n    }\r\n\r\n    return [200];\r\n  });\r\n}\r\n\r\nfunction generateRemarkId() {\r\n  const ids = remarkTableMock.map(el => el.id);\r\n  const maxId = Math.max(...ids);\r\n  return maxId + 1;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}