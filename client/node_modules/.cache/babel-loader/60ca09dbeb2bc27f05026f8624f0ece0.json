{"ast":null,"code":"import _slicedToArray from \"/Applications/MAMP/htdocs/project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Applications/MAMP/htdocs/project/client/src/_metronic/layout/components/extras/dropdowns/search/SearchDropdown.js\";\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport clsx from \"clsx\";\nimport { Dropdown } from \"react-bootstrap\";\nimport SVG from \"react-inlinesvg\";\nimport objectPath from \"object-path\";\nimport { useHtmlClassService } from \"../../../../_core/MetronicLayout\";\nimport { SearchResult } from \"./SearchResult\";\nimport { toAbsoluteUrl } from \"../../../../../_helpers\";\nimport { DropdownTopbarItemToggler } from \"../../../../../_partials/dropdowns\";\nvar fakeData = [{\n  type: 0,\n  text: \"Reports\"\n}, {\n  type: 1,\n  text: \"AirPlus Requirements\",\n  description: \"by Grog John\",\n  iconImage: toAbsoluteUrl(\"/media/files/doc.svg\")\n}, {\n  type: 1,\n  text: \"TechNav Documentation\",\n  description: \"by Mary Brown\",\n  iconImage: toAbsoluteUrl(\"/media/files/pdf.svg\")\n}, {\n  type: 1,\n  text: \"All Framework Docs\",\n  description: \"by Grog John\",\n  iconImage: toAbsoluteUrl(\"/media/files/zip.svg\")\n}, {\n  type: 1,\n  text: \"AirPlus Requirements\",\n  description: \"by Tim Hardy\",\n  iconImage: toAbsoluteUrl(\"/media/files/xml.svg\")\n}, {\n  text: \"Customers\",\n  type: 0\n}, {\n  type: 1,\n  text: \"Jimmy Curry\",\n  description: \"Software Developer\",\n  iconImage: toAbsoluteUrl(\"/media/users/300_11.jpg\")\n}, {\n  type: 1,\n  text: \"Milena Gibson\",\n  description: \"UI Designer\",\n  iconImage: toAbsoluteUrl(\"/media/users/300_16.jpg\")\n}, {\n  type: 1,\n  text: \"Stefan JohnStefan\",\n  description: \"Marketing Manager\",\n  iconImage: toAbsoluteUrl(\"/media/users/300_22.jpg\")\n}, {\n  type: 1,\n  text: \"Anna Strong\",\n  description: \"Software Developer\",\n  iconImage: toAbsoluteUrl(\"/media/users/300_5.jpg\")\n}, {\n  type: 0,\n  text: \"Files\"\n}, {\n  type: 1,\n  text: \"2 New items submitted\",\n  description: \"Marketing Manager\",\n  iconClassName: \"flaticon2-box font-danger\"\n}, {\n  type: 1,\n  text: \"79 PSD files generated\",\n  description: \"by Grog John\",\n  iconClassName: \"flaticon-psd font-brand\"\n}, {\n  type: 1,\n  text: \"$2900 worth products sold\",\n  description: \"Total 234 items\",\n  iconClassName: \"flaticon2-supermarket font-warning\"\n}, {\n  type: 1,\n  text: \"4 New items submitted\",\n  description: \"Marketing Manager\",\n  iconClassName: \"flaticon-safe-shield-protection font-info\"\n}];\nexport function SearchDropdown() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      searchValue = _useState6[0],\n      setSearchValue = _useState6[1];\n\n  var timeoutId;\n\n  var clearTimeout = function clearTimeout() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      timeoutId = undefined;\n    }\n  };\n\n  var handleSearchChange = function handleSearchChange(event) {\n    setData(null);\n    setSearchValue(event.target.value);\n\n    if (event.target.value.length > 2) {\n      clearTimeout();\n      setLoading(true); // simulate getting search result\n\n      timeoutId = setTimeout(function () {\n        setData(fakeData);\n        setLoading(false);\n      }, 500);\n    }\n  };\n\n  var clear = function clear() {\n    setData(null);\n    setSearchValue(\"\");\n  };\n\n  useEffect(function () {\n    return function () {\n      clearTimeout();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var uiService = useHtmlClassService();\n  var layoutProps = useMemo(function () {\n    return {\n      offcanvas: objectPath.get(uiService.config, \"extras.search.layout\") === \"offcanvas\"\n    };\n  }, [uiService]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, layoutProps.offcanvas && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"topbar-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn btn-icon btn-clean btn-lg mr-1\",\n    id: \"kt_quick_search_toggle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"svg-icon svg-icon-xl svg-icon-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SVG, {\n    src: toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  })))), !layoutProps.offcanvas && /*#__PURE__*/React.createElement(Dropdown, {\n    alignRight: true,\n    drop: \"down\",\n    onToggle: function onToggle() {\n      setData(null);\n      setLoading(false);\n      setSearchValue(\"\");\n    },\n    id: \"kt_quick_search_toggle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n    as: DropdownTopbarItemToggler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn btn-icon btn-clean btn-lg btn-dropdown mr-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"svg-icon svg-icon-xl svg-icon-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(SVG, {\n    src: toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n    className: \"dropdown-menu p-0 m-0 dropdown-menu-right dropdown-menu-anim-up dropdown-menu-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"kt_quick_search_dropdown\",\n    className: clsx(\"quick-search quick-search-dropdown\", {\n      \"quick-search-has-result\": data && data.length\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"quick-search-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-prepend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"input-group-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"svg-icon svg-icon-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(SVG, {\n    src: toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    autoFocus: true,\n    placeholder: \"Search...\",\n    value: searchValue,\n    onChange: handleSearchChange,\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group-append \".concat(loading ? \"spinner spinner-sm spinner-primary\" : \"\", \"\\\")}\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"input-group-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      display: loading && searchValue && searchValue.length > 0 ? \"none\" : \"flex\"\n    },\n    onClick: clear,\n    className: \"quick-search-close ki ki-close icon-sm text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 23\n    }\n  }))))), /*#__PURE__*/React.createElement(SearchResult, {\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 17\n    }\n  })))));\n}","map":{"version":3,"sources":["/Applications/MAMP/htdocs/project/client/src/_metronic/layout/components/extras/dropdowns/search/SearchDropdown.js"],"names":["React","useEffect","useState","useMemo","clsx","Dropdown","SVG","objectPath","useHtmlClassService","SearchResult","toAbsoluteUrl","DropdownTopbarItemToggler","fakeData","type","text","description","iconImage","iconClassName","SearchDropdown","loading","setLoading","data","setData","searchValue","setSearchValue","timeoutId","clearTimeout","undefined","handleSearchChange","event","target","value","length","setTimeout","clear","uiService","layoutProps","offcanvas","get","config","display"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { Dropdown } from \"react-bootstrap\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport objectPath from \"object-path\";\r\nimport { useHtmlClassService } from \"../../../../_core/MetronicLayout\";\r\nimport { SearchResult } from \"./SearchResult\";\r\nimport { toAbsoluteUrl } from \"../../../../../_helpers\";\r\nimport { DropdownTopbarItemToggler } from \"../../../../../_partials/dropdowns\";\r\nconst fakeData = [\r\n  {\r\n    type: 0,\r\n    text: \"Reports\",\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"AirPlus Requirements\",\r\n    description: \"by Grog John\",\r\n    iconImage: toAbsoluteUrl(\"/media/files/doc.svg\"),\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"TechNav Documentation\",\r\n    description: \"by Mary Brown\",\r\n    iconImage: toAbsoluteUrl(\"/media/files/pdf.svg\"),\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"All Framework Docs\",\r\n    description: \"by Grog John\",\r\n    iconImage: toAbsoluteUrl(\"/media/files/zip.svg\"),\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"AirPlus Requirements\",\r\n    description: \"by Tim Hardy\",\r\n    iconImage: toAbsoluteUrl(\"/media/files/xml.svg\"),\r\n  },\r\n  {\r\n    text: \"Customers\",\r\n    type: 0,\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"Jimmy Curry\",\r\n    description: \"Software Developer\",\r\n    iconImage: toAbsoluteUrl(\"/media/users/300_11.jpg\"),\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"Milena Gibson\",\r\n    description: \"UI Designer\",\r\n    iconImage: toAbsoluteUrl(\"/media/users/300_16.jpg\"),\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"Stefan JohnStefan\",\r\n    description: \"Marketing Manager\",\r\n    iconImage: toAbsoluteUrl(\"/media/users/300_22.jpg\"),\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"Anna Strong\",\r\n    description: \"Software Developer\",\r\n    iconImage: toAbsoluteUrl(\"/media/users/300_5.jpg\"),\r\n  },\r\n  {\r\n    type: 0,\r\n    text: \"Files\",\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"2 New items submitted\",\r\n    description: \"Marketing Manager\",\r\n    iconClassName: \"flaticon2-box font-danger\",\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"79 PSD files generated\",\r\n    description: \"by Grog John\",\r\n    iconClassName: \"flaticon-psd font-brand\",\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"$2900 worth products sold\",\r\n    description: \"Total 234 items\",\r\n    iconClassName: \"flaticon2-supermarket font-warning\",\r\n  },\r\n  {\r\n    type: 1,\r\n    text: \"4 New items submitted\",\r\n    description: \"Marketing Manager\",\r\n    iconClassName: \"flaticon-safe-shield-protection font-info\",\r\n  },\r\n];\r\n\r\nexport function SearchDropdown() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [data, setData] = useState(null);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  let timeoutId;\r\n\r\n  const clearTimeout = () => {\r\n    if (timeoutId) {\r\n      clearTimeout(timeoutId);\r\n      timeoutId = undefined;\r\n    }\r\n  };\r\n\r\n  const handleSearchChange = (event) => {\r\n    setData(null);\r\n    setSearchValue(event.target.value);\r\n\r\n    if (event.target.value.length > 2) {\r\n      clearTimeout();\r\n\r\n      setLoading(true);\r\n\r\n      // simulate getting search result\r\n      timeoutId = setTimeout(() => {\r\n        setData(fakeData);\r\n        setLoading(false);\r\n      }, 500);\r\n    }\r\n  };\r\n\r\n  const clear = () => {\r\n    setData(null);\r\n    setSearchValue(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      clearTimeout();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const uiService = useHtmlClassService();\r\n  const layoutProps = useMemo(() => {\r\n    return {\r\n      offcanvas:\r\n        objectPath.get(uiService.config, \"extras.search.layout\") ===\r\n        \"offcanvas\",\r\n    };\r\n  }, [uiService]);\r\n\r\n  return (\r\n    <>\r\n      {layoutProps.offcanvas && (\r\n        <div className=\"topbar-item\">\r\n          <div\r\n            className=\"btn btn-icon btn-clean btn-lg mr-1\"\r\n            id=\"kt_quick_search_toggle\"\r\n          >\r\n            <span className=\"svg-icon svg-icon-xl svg-icon-primary\">\r\n              <SVG src={toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\")} />\r\n            </span>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {!layoutProps.offcanvas && (\r\n        <Dropdown\r\n          alignRight\r\n          drop=\"down\"\r\n          onToggle={() => {\r\n            setData(null);\r\n            setLoading(false);\r\n            setSearchValue(\"\");\r\n          }}\r\n          id=\"kt_quick_search_toggle\"\r\n        >\r\n          <Dropdown.Toggle as={DropdownTopbarItemToggler}>\r\n            <div className=\"btn btn-icon btn-clean btn-lg btn-dropdown mr-1\">\r\n              <span className=\"svg-icon svg-icon-xl svg-icon-primary\">\r\n                <SVG\r\n                  src={toAbsoluteUrl(\"/media/svg/icons/General/Search.svg\")}\r\n                />\r\n              </span>\r\n            </div>\r\n          </Dropdown.Toggle>\r\n          <Dropdown.Menu className=\"dropdown-menu p-0 m-0 dropdown-menu-right dropdown-menu-anim-up dropdown-menu-lg\">\r\n            <div\r\n              id=\"kt_quick_search_dropdown\"\r\n              className={clsx(\"quick-search quick-search-dropdown\", {\r\n                \"quick-search-has-result\": data && data.length,\r\n              })}\r\n            >\r\n              <form className=\"quick-search-form\">\r\n                <div className=\"input-group\">\r\n                  <div className={`input-group-prepend`}>\r\n                    <span className=\"input-group-text\">\r\n                      <span className=\"svg-icon svg-icon-lg\">\r\n                        <SVG\r\n                          src={toAbsoluteUrl(\r\n                            \"/media/svg/icons/General/Search.svg\"\r\n                          )}\r\n                        />\r\n                      </span>\r\n                    </span>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    autoFocus={true}\r\n                    placeholder=\"Search...\"\r\n                    value={searchValue}\r\n                    onChange={handleSearchChange}\r\n                    className=\"form-control\"\r\n                  />\r\n\r\n                  <div\r\n                    className={`input-group-append ${\r\n                      loading ? \"spinner spinner-sm spinner-primary\" : \"\"\r\n                    }\")}`}\r\n                  >\r\n                    <span className=\"input-group-text\">\r\n                      <i\r\n                        style={{\r\n                          display:\r\n                            loading && searchValue && searchValue.length > 0\r\n                              ? \"none\"\r\n                              : \"flex\",\r\n                        }}\r\n                        onClick={clear}\r\n                        className=\"quick-search-close ki ki-close icon-sm text-muted\"\r\n                      />\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n                <SearchResult data={data} />\r\n            </div>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}